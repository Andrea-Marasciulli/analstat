\usepackage[italian]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc} % si possono usare caratteri accentati direttamente
\usepackage{macros}

% --- FONT ---
\usepackage{lmodern}
% ------------

\usepackage{hyperref}
\usepackage[all]{hypcap} % i link sono allineati con l'inizio della figura (!) tenere dopo {hyperref}
\usepackage{chngcntr} % \counterwithout
\usepackage[useregional]{datetime2} % (!) tenere dopo {babel}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{enumerate} % add option to {enumerate}

% --- THEOREMS ---
\declaretheorem[style=definition,name=Definizione]{definition}
\declaretheorem[style=plain,name=Teorema]{theorem}
\declaretheorem[style=definition,name=Esempio]{example}
\declaretheorem[style=definition,name=Esercizio]{exercise}
\declaretheorem[style=plain,name=Fatto]{fact}
\newenvironment{solution*} % solution to be put where it appears
{\noindent\emph{Soluzione.}}
{}
% ----------------

\counterwithout{figure}{chapter} % numerazione globale delle figure

\frenchspacing % spazio singolo dopo il punto

\newcommand\includelesson[4]{%
\begin{lesson}{#1}{#2}{#3}{#4}
\input{lez-#1-#2-#3}
\end{lesson}}

% --- SEARCH PATHS ---
\makeatletter
\providecommand*{\input@path}{}
\g@addto@macro\input@path{{figure/}, {lezioni/}}
\makeatother
\graphicspath{{figure/}}
% --------------------

%%% --- DOCUMENT --- %%%

\title{Appunti di Analisi statistica dei dati}
\author{%
Giacomo Petrillo}
\date{Anno accademico 2017--2018\\
Versione del documento: \today}

\begin{document}

\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}

% \frontmatter

\fancyhf{}
\fancyhead[LO,RE]{\rightmark}
\fancyhead[RO,LE]{\thepage}

\maketitle

\DTMlangsetup{showyear=false}

\tableofcontents
\clearpage

% \mainmatter

\fancyhf{}
\fancyhead[LO,RE]{\rightmark}
\fancyhead[RO]{{\small\headcmacro}\hspace{2cm}\thepage}
\fancyhead[LE]{\thepage\hspace{2cm}{\small\headcmacro}}

% manca la prima lezione (19 settembre) di Punzi a cui non c'ero
\includelesson{2017}{09}{20}{Morello}
\includelesson{2017}{09}{22}{Morello}
\includelesson{2017}{09}{26}{Punzi}
% la lezione del 27 settembre non si è tenuta
\includelesson{2017}{09}{29}{Morello}
\includelesson{2017}{10}{03}{Punzi}
\includelesson{2017}{10}{04}{Francavilla}
% il 6 ottobre c'era sospensione dell'attività didattica
\includelesson{2017}{10}{10}{Punzi}
\includelesson{2017}{10}{11}{Morello}
\includelesson{2017}{10}{13}{Punzi}
\includelesson{2017}{10}{17}{Punzi}
\includelesson{2017}{10}{18}{Francavilla}
% il 20 ottobre non c'era lezione
\includelesson{2017}{10}{24}{Punzi}
\includelesson{2017}{10}{25}{Punzi}
\includelesson{2017}{10}{27}{Morello}
\includelesson{2017}{10}{31}{Punzi}
\includelesson{2017}{11}{03}{Punzi}

\solutions

\renewcommand*\listtheoremname{Definizioni, fatti, teoremi, esercizi, esempi}
\listoftheorems[onlynamed]

\end{document}
